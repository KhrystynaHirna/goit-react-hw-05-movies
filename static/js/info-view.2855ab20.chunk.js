"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[319],{148:function(e,t,n){n.d(t,{Hx:function(){return v},PQ:function(){return d},SU:function(){return h},bI:function(){return l},fP:function(){return f}});var r=n(861),c=n(757),a=n.n(c),s="https://api.themoviedb.org/3/",i="797c8d09920f943adb703c8d278f5556";function o(){return u.apply(this,arguments)}function u(){return u=(0,r.Z)(a().mark((function e(){var t,n,r,c=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,fetch(t,n);case 4:if(!(r=e.sent).ok){e.next=11;break}return e.next=8,r.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(e){return o("".concat(s,"search/movie?api_key=").concat(i,"&query=").concat(e))}function f(e){return o("".concat(s,"movie/").concat(e,"?api_key=").concat(i))}function h(){return o("".concat(s,"trending/movie/day?api_key=").concat(i))}function v(e){return o("".concat(s,"movie/").concat(e,"/reviews?api_key=").concat(i))}function d(e){return o("".concat(s,"movie/").concat(e,"/credits?api_key=").concat(i))}},925:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(885),c=n(791),a=n(501),s=n(871),i=n(148),o={wrapper:"MovieInfo_wrapper__UTLtA",img:"MovieInfo_img__iFREa",title:"MovieInfo_title__sA+kL",navItem:"MovieInfo_navItem__PsyWh",nav:"MovieInfo_nav__R5hYO"},u="Button_button__Zk130",l=n(184);function f(e){var t=e.onClick;return(0,l.jsx)("div",{children:(0,l.jsx)("button",{type:"button",className:u,onClick:t,children:"Go back"})})}var h=(0,c.lazy)((function(){return n.e(81).then(n.bind(n,168))})),v=(0,c.lazy)((function(){return n.e(798).then(n.bind(n,780))}));function d(){var e=(0,s.UO)().movieId,t=(0,c.useState)([]),n=(0,r.Z)(t,2),u=n[0],d=n[1],m=(0,s.TH)(),p=u.title,x=u.genres,_=u.overview,j=10*u.vote_average,k="https://www.themoviedb.org/t/p/w600_and_h900_bestv2".concat(u.poster_path),b=[],w=(0,c.useState)(m.state.from),y=(0,r.Z)(w,1)[0],N=(0,s.s0)();return x&&u.genres.map((function(e){var t=e.name;return b.push(t)})),(0,c.useEffect)((function(){i.fP(e).then(d)}),[e]),u&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f,{onClick:function(){N(y)}}),(0,l.jsxs)("div",{className:o.wrapper,children:[(0,l.jsx)("img",{src:k,alt:u.title,className:o.img}),(0,l.jsxs)("div",{className:o.info,children:[(0,l.jsx)("h2",{className:o.title,children:p}),(0,l.jsxs)("p",{className:o.text,children:["User score: ",j,"%"]}),(0,l.jsx)("h3",{className:o.title,children:"Overview"}),(0,l.jsx)("p",{className:o.text,children:_}),(0,l.jsx)("h3",{className:o.title,children:"Genres"}),(0,l.jsx)("p",{className:o.text,children:b.join(", ")})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:o.title,children:"Additional information"}),(0,l.jsxs)("nav",{className:o.nav,children:[(0,l.jsx)(a.OL,{to:"cast",state:{from:m},className:o.navItem,style:function(e){return{color:e.isActive?"blue":"black"}},children:"Cast"}),(0,l.jsx)(a.OL,{to:"reviews",state:{from:m},className:o.navItem,style:function(e){return{color:e.isActive?"blue":"black"}},children:"Reviews"})]}),(0,l.jsx)(c.Suspense,{fallback:(0,l.jsx)("div",{children:"Please wait..."}),children:(0,l.jsxs)(s.Z5,{children:[(0,l.jsx)(s.AW,{exact:!0,path:"/cast",element:(0,l.jsx)(h,{})}),(0,l.jsx)(s.AW,{path:"/reviews",element:(0,l.jsx)(v,{})})]})})]})]})}}}]);
//# sourceMappingURL=info-view.2855ab20.chunk.js.map